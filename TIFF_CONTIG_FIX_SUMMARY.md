# –†–µ–∑—é–º–µ: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TIFF CONTIG

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!

–§–∞–π–ª `Tablet.tiff` (250 –∫–∞–Ω–∞–ª–æ–≤) —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è!

## üîç –ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫

**–û—à–∏–±–∫–∞:** "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å TIFF —Ñ–∞–π–ª"

**–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **PLANARCONFIG_CONTIG** (interleaved), –∞ –∫–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª —Ç–æ–ª—å–∫–æ **PLANARCONFIG_SEPARATE** (planar).

### –ê–Ω–∞–ª–∏–∑ Tablet.tiff:
```
Image Width: 1351
Image Length: 974  
Samples/Pixel: 250 (0xfa –≤ hex)
Planar Configuration: CONTIG (interleaved) ‚Üê –í–æ—Ç –ø—Ä–æ–±–ª–µ–º–∞!
Bits/Sample: 8
```

## üí° –î–≤–∞ —Ç–∏–ø–∞ TIFF

### CONTIG (Interleaved):
```
[R0,G0,B0, R1,G1,B1, R2,G2,B2, ...]
 |pixel0|  |pixel1|  |pixel2|
```
–ö–∞–Ω–∞–ª—ã —á–µ—Ä–µ–¥—É—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è.

### SEPARATE (Planar):
```
[R0,R1,R2,...RN, G0,G1,G2,...GN, B0,B1,B2,...BN]
 |–∫–∞–Ω–∞–ª R    |  |–∫–∞–Ω–∞–ª G    |  |–∫–∞–Ω–∞–ª B    |
```
–ö–∞–Ω–∞–ª—ã –∏–¥—É—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏.

## üîß –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **–æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤** –≤ `TiffHelper.c`:

```c
if (planarConfig == PLANARCONFIG_CONTIG) {
    // –ù–æ–≤—ã–π –∫–æ–¥ –¥–ª—è CONTIG (interleaved)
    for (strip : strips) {
        for (pixel : pixels) {
            for (channel : channels) {
                value = buf[pixel * C + channel];  // –†–∞—Å–ø–∞–∫–æ–≤–∫–∞
                data[...] = value;
            }
        }
    }
} else {
    // –°—Ç–∞—Ä—ã–π –∫–æ–¥ –¥–ª—è SEPARATE (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
}
```

## üìä –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è

| –¢–∏–ø —Ñ–∞–π–ª–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|-----------|------|-------|
| RGB TIFF (CONTIG) | ‚ùå | ‚úÖ |
| Tablet.tiff (250 ch, CONTIG) | ‚ùå | ‚úÖ |
| Multi-page TIFF (SEPARATE) | ‚úÖ | ‚úÖ |
| –ì–∏–ø–µ—Ä—Å–ø–µ–∫—Ç—Ä–∞–ª—å–Ω—ã–π SEPARATE | ‚úÖ | ‚úÖ |

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   cd /Users/mac/Desktop/HSIView
   open HSIView.xcodeproj
   # Cmd+R
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ `test_data/Tablet.tiff`**
   - –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è **–±–µ–∑ –æ—à–∏–±–æ–∫**! ‚úÖ

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø–∞–Ω–µ–ª–∏:**
   - –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: 1351 √ó 974 √ó 250
   - –ö–∞–Ω–∞–ª—ã: 250
   - –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: UInt8
   - –†–∞–∑–º–µ—Ä –≤ –ø–∞–º—è—Ç–∏: ~320 –ú–ë

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
   - –ë–µ–∑ –ø–æ–ª–æ—Å ‚úÖ
   - –ë–µ–∑ –∏—Å–∫–∞–∂–µ–Ω–∏–π ‚úÖ
   - –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤—Å–µ 250 –∫–∞–Ω–∞–ª–æ–≤ ‚úÖ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`TIFF_CONTIG_SUPPORT.md`** ‚≠ê - –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **`docs/TIFF_PARSING_ANALYSIS.md`** - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã
- **`inspect_tiff_file.py`** - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ TIFF —Ñ–∞–π–ª–æ–≤

## üöÄ –ö–æ–º–º–∏—Ç

```
79a5e7f feat: add TIFF PLANARCONFIG_CONTIG support
```

---

**–î–∞—Ç–∞:** 2025-11-28

**–ì–û–¢–û–í–û! –§–∞–π–ª Tablet.tiff –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è!** üéâ

