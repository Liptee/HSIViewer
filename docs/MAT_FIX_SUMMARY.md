# –†–µ–∑—é–º–µ: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MAT uint8 –∏ –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!

–§–∞–π–ª `asphalt2.mat` (uint8) —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è!

## üîç –ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫

**–û—à–∏–±–∫–∞:** "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å .mat —Ñ–∞–π–ª"

**–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç **uint8** –¥–∞–Ω–Ω—ã–µ, –∞ –∫–æ–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª —Ç–æ–ª—å–∫–æ **float64** –∏ **float32**.

### –ê–Ω–∞–ª–∏–∑ asphalt2.mat:
```
MATLAB 5.0 MAT-file
Variable: "image"
Data type: uint8 (0x02) ‚Üê –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª—Å—è!
```

## üí° –†–µ—à–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤ `MatHelper.c`:

### –ë—ã–ª–æ:
```c
‚úÖ MAT_C_DOUBLE  (float64)
‚úÖ MAT_C_SINGLE  (float32)
```

### –°—Ç–∞–ª–æ:
```c
‚úÖ MAT_C_DOUBLE  (float64)
‚úÖ MAT_C_SINGLE  (float32)
‚úÖ MAT_C_UINT8   (uint8)   ‚Üê –ù–û–í–û–ï!
‚úÖ MAT_C_UINT16  (uint16)  ‚Üê –ù–û–í–û–ï!
‚úÖ MAT_C_INT8    (int8)    ‚Üê –ù–û–í–û–ï!
‚úÖ MAT_C_INT16   (int16)   ‚Üê –ù–û–í–û–ï!
```

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ double:**
```c
// uint8: 0-255
uint8_t *src = (uint8_t *)full->data;
for (size_t i = 0; i < total; ++i) {
    buf[i] = (double)src[i];  // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è
}
```

**–ó–∞—á–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è?**
1. –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`double *data`)
2. –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
3. Swift –∫–æ–¥ (`MatImageLoader.swift`) –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤ `DataStorage`

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã

| –¢–∏–ø | –î–∏–∞–ø–∞–∑–æ–Ω | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-----|----------|---------------|
| **float64** | ¬±1.7e308 | –ù–∞—É—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| **float32** | ¬±3.4e38 | –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ |
| **uint8** ‚ú® | 0-255 | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è RGB |
| **uint16** ‚ú® | 0-65535 | HDR –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| **int8** ‚ú® | -128 to 127 | Signed –¥–∞–Ω–Ω—ã–µ |
| **int16** ‚ú® | -32768 to 32767 | Signed –¥–∞–Ω–Ω—ã–µ |

## ‚ö†Ô∏è –ü–∞–º—è—Ç—å

**–î–ª—è uint8 –¥–∞–Ω–Ω—ã—Ö:**
```
–§–∞–π–ª:      100 –ú–ë (uint8 = 1 –±–∞–π—Ç)
–í –ø–∞–º—è—Ç–∏:  800 –ú–ë (double = 8 –±–∞–π—Ç)
Overhead:  8x
```

> **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ –±—É–¥—É—â–µ–º:** –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å uint8 –Ω–∞–ø—Ä—è–º—É—é –≤ `DataStorage::uint8`, –∏–∑–±–µ–≥–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏. –ù–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å C –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
cd /Users/mac/Desktop/HSIView
open HSIView.xcodeproj
# –ù–∞–∂–º–∏—Ç–µ Cmd+R
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ asphalt2.mat:
- ‚úÖ –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è "image" –∑–∞–≥—Ä—É–∂–µ–Ω–∞
- ‚úÖ –†–∞–∑–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è 0-255 (uint8)

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–Ω–µ–ª—å:
- –§–æ—Ä–º–∞—Ç: MATLAB (.mat)
- –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö: Float64 (–ø–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏)
- –î–∏–∞–ø–∞–∑–æ–Ω: 0-255

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`MAT_INTEGER_SUPPORT.md`** ‚≠ê - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **`CHANGELOG.md`** - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üéØ –ò—Ç–æ–≥

### –ë—ã–ª–æ:
- ‚ùå MAT —Ñ–∞–π–ª—ã uint8 –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
- ‚ùå –¢–æ–ª—å–∫–æ float64/float32 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∏—Å—å

### –°—Ç–∞–ª–æ:
- ‚úÖ MAT uint8, uint16, int8, int16 –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
- ‚úÖ asphalt2.mat —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ HDR –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (uint16) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

---

**–ì–û–¢–û–í–û! –§–∞–π–ª asphalt2.mat –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è!** üéâ

**–î–∞—Ç–∞:** 2025-11-28  
**–ö–æ–º–º–∏—Ç:** `f4d0ad6`


