# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (Zoom) üîç

**–¢—Ä–µ–∫–ø–∞–¥:**
- **Pinch-to-zoom**: –°–≤–µ–¥–µ–Ω–∏–µ/—Ä–∞–∑–≤–µ–¥–µ–Ω–∏–µ –¥–≤—É—Ö –ø–∞–ª—å—Ü–µ–≤ –Ω–∞ —Ç—Ä–µ–∫–ø–∞–¥–µ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–∏–∞–ø–∞–∑–æ–Ω: –æ—Ç **0.5x** (—É–º–µ–Ω—å—à–µ–Ω–∏–µ) –¥–æ **10x** (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ)

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä:**
- –í –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –º–∞—Å—à—Ç–∞–±: **"Zoom: 1.5x"**

### 2. –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é ‚å®Ô∏è

**–ö–ª–∞–≤–∏—à–∏-—Å—Ç—Ä–µ–ª–∫–∏:**
- **‚Üê** - —Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ
- **‚Üí** - —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ
- **‚Üë** - —Å–¥–≤–∏–≥ –≤–≤–µ—Ä—Ö
- **‚Üì** - —Å–¥–≤–∏–≥ –≤–Ω–∏–∑

**–®–∞–≥ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è:** 20 –ø–∏–∫—Å–µ–ª–µ–π –∑–∞ –æ–¥–Ω–æ –Ω–∞–∂–∞—Ç–∏–µ

### 3. –ö–Ω–æ–ø–∫–∞ "–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å" üéØ

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏—è:**
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –º–∞—Å—à—Ç–∞–± –¥–æ 1.0x
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ü–µ–Ω—Ç—Ä
- –û—Ç–∫–ª—é—á–µ–Ω–∞, –µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∂–µ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å:**
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ zoom –∏ –ø–æ–∑–∏—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### AppState.swift

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:**
```swift
@Published var zoomScale: CGFloat = 1.0
@Published var imageOffset: CGSize = .zero
```

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```swift
func resetZoom() {
    zoomScale = 1.0
    imageOffset = .zero
}

func moveImage(by delta: CGSize) {
    imageOffset.width += delta.width
    imageOffset.height += delta.height
}
```

### ContentView.swift

**–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```swift
.scaleEffect(state.zoomScale)
.offset(state.imageOffset)
.gesture(
    MagnificationGesture()
        .onChanged { value in
            tempZoomScale = value
        }
        .onEnded { value in
            state.zoomScale *= value
            state.zoomScale = max(0.5, min(state.zoomScale, 10.0))
            tempZoomScale = 1.0
        }
)
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è –∫–ª–∞–≤–∏—à–∞–º–∏:**
```swift
.onKeyPress(.leftArrow) {
    state.moveImage(by: CGSize(width: 20, height: 0))
    return .handled
}
// –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–µ–ª–æ–∫
```

**–ö–Ω–æ–ø–∫–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è:**
```swift
Button(action: {
    state.resetZoom()
}) {
    HStack(spacing: 4) {
        Image(systemName: "arrow.clockwise")
        Text("–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å")
    }
}
.disabled(state.zoomScale == 1.0 && state.imageOffset == .zero)
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π workflow:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** (Cmd+O –∏–ª–∏ File ‚Üí –û—Ç–∫—Ä—ã—Ç—å...)

2. **–£–≤–µ–ª–∏—á—å—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –æ–±–ª–∞—Å—Ç—å:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pinch-to-zoom –Ω–∞ —Ç—Ä–µ–∫–ø–∞–¥–µ
   - –°–≤–µ–¥–∏—Ç–µ –ø–∞–ª—å—Ü—ã –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è

3. **–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é:**
   - –ù–∞–∂–∏–º–∞–π—Ç–µ –∫–ª–∞–≤–∏—à–∏-—Å—Ç—Ä–µ–ª–∫–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
   - ‚Üê ‚Üí ‚Üë ‚Üì

4. **–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É:**
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å"** –≤–Ω–∏–∑—É
   - –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

**–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Å–º–æ—Ç—Ä:**
```
1. Pinch-to-zoom ‚Üí 5x
2. ‚Üë ‚Üë ‚Üë (—Å—Ç—Ä–µ–ª–∫–∞ –≤–≤–µ—Ä—Ö 3 —Ä–∞–∑–∞)
3. ‚Üí ‚Üí (—Å—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ 2 —Ä–∞–∑–∞)
4. –û—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–∏
5. –ö–Ω–æ–ø–∫–∞ "–¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å"
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π:**
```
1. Pinch-to-zoom ‚Üí 3x
2. –û—Å–º–æ—Ç—Ä –æ–±–ª–∞—Å—Ç–∏ A (—Å—Ç—Ä–µ–ª–∫–∞–º–∏)
3. –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å
4. Pinch-to-zoom ‚Üí 3x
5. –û—Å–º–æ—Ç—Ä –æ–±–ª–∞—Å—Ç–∏ B (—Å—Ç—Ä–µ–ª–∫–∞–º–∏)
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è zoom:
```swift
state.zoomScale = max(0.5, min(state.zoomScale, 10.0))
```
- **–ú–∏–Ω–∏–º—É–º:** 0.5x (—É–º–µ–Ω—å—à–µ–Ω–∏–µ –≤–¥–≤–æ–µ)
- **–ú–∞–∫—Å–∏–º—É–º:** 10x (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤ 10 —Ä–∞–∑)

### Smooth zoom:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `tempZoomScale` –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –∂–µ—Å—Ç–∞
- –§–∏–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—à—Ç–∞–± –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ `.onEnded`

### Focus management:
```swift
@FocusState private var isImageFocused: Bool

.focusable()
.focused($isImageFocused)
.onAppear {
    isImageFocused = true
}
```
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∞–≤–∏—à.

### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã offset:
- **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π offset.width** = —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ
- **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π offset.width** = —Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ
- **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π offset.height** = —Å–¥–≤–∏–≥ –≤–Ω–∏–∑
- **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π offset.height** = —Å–¥–≤–∏–≥ –≤–≤–µ—Ä—Ö

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ü–ª–∞–≤–Ω–æ–µ (60 FPS) –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–æ 4K
- ‚úÖ –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GPU

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫ (<1 –º—Å)
- ‚úÖ –ù–∏–∫–∞–∫–æ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ü–∞–º—è—Ç—å:**
- ‚úÖ –ë–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ø–∏–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–µ—Ç—É

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ macOS 11.0+  
‚úÖ –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã: .mat, .tiff, .npy  
‚úÖ 2D –∏ 3D –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
‚úÖ Grayscale –∏ RGB —Ä–µ–∂–∏–º—ã  
‚úÖ –¢—Ä–µ–∫–ø–∞–¥ Magic Trackpad –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç—Ä–µ–∫–ø–∞–¥—ã MacBook

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è:
- [ ] Zoom –∫–æ–ª–µ—Å–∏–∫–æ–º –º—ã—à–∏ (Cmd+Scroll)
- [ ] –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –¥–ª—è fit-to-screen
- [ ] Drag –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (–≤–º–µ—Å—Ç–æ —Å—Ç—Ä–µ–ª–æ–∫)
- [ ] Zoom –∫ –∫—É—Ä—Å–æ—Ä—É –º—ã—à–∏
- [ ] –®–æ—Ä—Ç–∫–∞—Ç—ã Cmd+0 –¥–ª—è —Å–±—Ä–æ—Å–∞, Cmd+Plus/Minus –¥–ª—è zoom

## –î–∞—Ç–∞

2025-11-28

