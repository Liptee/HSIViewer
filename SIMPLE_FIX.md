# –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è .hdr –∏ .dat —Ñ–∞–π–ª–æ–≤

## ‚ùó –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ Info.plist —Ñ–∞–π–ª—ã –≤—Å–µ –µ—â–µ –Ω–µ –∞—Å—Å–æ—Ü–∏–∏—Ä—É—é—Ç—Å—è —Å HSIView.

## ‚úÖ –°–ê–ú–û–ï –ü–†–û–°–¢–û–ï –†–ï–®–ï–ù–ò–ï (30 —Å–µ–∫—É–Ω–¥)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–¥–∏–Ω —Ä–∞–∑

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode:**
   ```bash
   cd /Users/mac/Desktop/HSIView
   open HSIView.xcodeproj
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Cmd+R)**

3. **–ó–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Finder:**
   - **Option + Right Click** –Ω–∞ –∏–∫–æ–Ω–∫–µ Finder –≤ Dock
   - –í—ã–±–µ—Ä–∏—Ç–µ **"Relaunch"**

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - –ù–∞–π–¥–∏—Ç–µ –ª—é–±–æ–π .hdr –∏–ª–∏ .dat —Ñ–∞–π–ª –≤ Finder
   - **–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫** ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è HSIView

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é

–ï—Å–ª–∏ –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **Right Click** –Ω–∞ —Ñ–∞–π–ª .hdr –∏–ª–∏ .dat
2. **"–û—Ç–∫—Ä—ã—Ç—å —Å –ø–æ–º–æ—â—å—é..."** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ **HSIView**
3. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ macOS –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—é

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å HSIView –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

1. **Right Click** –Ω–∞ —Ñ–∞–π–ª ‚Üí **"–°–≤–æ–π—Å—Ç–≤–∞"** (Cmd+I)
2. **"–û—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ:"** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ **HSIView**
3. –ù–∞–∂–º–∏—Ç–µ **"–ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ..."**
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–∏

–ß—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤—Ä—É—á–Ω—É—é:

#### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ö–µ–º—É –≤ Xcode

1. –í Xcode –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã (**HSIView**) –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Edit Scheme..."** (–∏–ª–∏ Cmd+<)

#### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ Post-Action

1. –í—ã–±–µ—Ä–∏—Ç–µ **"Build"** –≤ –ª–µ–≤–æ–º –º–µ–Ω—é
2. –†–∞—Å–∫—Ä–æ–π—Ç–µ **"Build"** ‚Üí –Ω–∞–∂–º–∏—Ç–µ **"Post-actions"**
3. –ù–∞–∂–º–∏—Ç–µ **"+"** ‚Üí **"New Run Script Action"**

#### –®–∞–≥ 3: –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
"${SRCROOT}/register_file_types.sh"
```

#### –®–∞–≥ 4: –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- **"Provide build settings from:"** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ **"HSIView"**

#### –®–∞–≥ 5: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

- –ù–∞–∂–º–∏—Ç–µ **"Close"**

–¢–µ–ø–µ—Ä—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–∏ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è!

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: –†—É—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ (–µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ)

```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cd /Users/mac/Desktop/HSIView
xcodebuild -project HSIView.xcodeproj -scheme HSIView -configuration Debug

# 2. –ù–∞–π–¥–∏—Ç–µ –ø—É—Ç—å –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
APP_PATH=$(find ~/Library/Developer/Xcode/DerivedData -name "HSIView.app" -path "*/Debug/*" | head -1)

# 3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ
/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/Support/lsregister -f "$APP_PATH"

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
echo "‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ: $APP_PATH"

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Finder
killall Finder
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ:

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã HSIView
lsregister -dump | grep -A5 "HSIView"
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç .hdr:

```bash
mdls -name kMDItemContentType test_data/pre_katrina05.hdr
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: `com.hsiview.envi-hdr`

### –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:

```bash
open -a "HSIView" test_data/pre_katrina05.hdr
```

---

## ‚ùì –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

macOS –∫–µ—à–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–∞—Ö —Ñ–∞–π–ª–æ–≤. –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ `Info.plist`:

- ‚úÖ `CFBundleDocumentTypes` ‚Äî –µ—Å—Ç—å
- ‚úÖ `UTExportedTypeDeclarations` ‚Äî –µ—Å—Ç—å
- ‚úÖ `LSHandlerRank = "Owner"` ‚Äî –µ—Å—Ç—å

**–ö–µ—à –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞:**
1. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Ä–∞–∑
2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `lsregister` –≤—Ä—É—á–Ω—É—é
3. –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1 (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π):**

```bash
# –í Xcode:
Cmd+R  # –ó–∞–ø—É—Å—Ç–∏—Ç—å
Cmd+Q  # –ó–∞–∫—Ä—ã—Ç—å

# –í Finder:
Option + Right Click –Ω–∞ Finder ‚Üí Relaunch

# –ü—Ä–æ–≤–µ—Ä–∫–∞:
–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ .hdr –∏–ª–∏ .dat —Ñ–∞–π–ª
```

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —á–∞—Å—Ç–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å:**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 3 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Post-Action)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–§–∞–π–ª `register_file_types.sh` —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

–ü—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ **–í–∞—Ä–∏–∞–Ω—Ç 1** –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ **–í–∞—Ä–∏–∞–Ω—Ç 3** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

---

**–î–∞—Ç–∞:** 2025-11-28

