# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–∞–Ω–µ–ª–∏

## üí° –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –∫ –≥–∏–ø–µ—Ä–∫—É–±—É, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å **—Å—Ç–∞—Ä—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** (min/max/mean/std) –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫—É–±–∞.

### –ü—Ä–∏–º–µ—Ä:

```
1. –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ [0, 255]
   –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: Min=0, Max=255, Mean=127.5 ‚úÖ

2. –ü—Ä–∏–º–µ–Ω—è–µ–º Min-Max –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é [0, 1]
   –î–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å: [0, 1]
   –ü–∞–Ω–µ–ª—å –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: Min=0, Max=255, Mean=127.5 ‚ùå

3. –ü—Ä–∏–º–µ–Ω—è–µ–º Log –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   –ü–∞–Ω–µ–ª—å –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ‚ùå
```

**–ü—Ä–∏—á–∏–Ω–∞:** `ImageInfoPanel` –∫–µ—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ (`onAppear`) –∏ –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—É–±–∞.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ `HyperCube`

```swift
struct HyperCube {
    let id: UUID  // ‚úÖ –ù–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
    let dims: (Int, Int, Int)
    let storage: DataStorage
    let sourceFormat: String
    let isFortranOrder: Bool
    let wavelengths: [Double]?
    
    init(dims: (Int, Int, Int), storage: DataStorage, sourceFormat: String, 
         isFortranOrder: Bool, wavelengths: [Double]? = nil) {
        self.id = UUID()  // ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
        self.dims = dims
        self.storage = storage
        self.sourceFormat = sourceFormat
        self.isFortranOrder = isFortranOrder
        self.wavelengths = wavelengths
    }
}
```

**–ü–æ—á–µ–º—É UUID?**
- ‚úÖ –ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –∫—É–± –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
- ‚úÖ SwiftUI –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `.id()` modifier
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏ –Ω–∞–¥–µ–∂–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `ImageInfoPanel`

```swift
struct ImageInfoPanel: View {
    let cube: HyperCube
    let layout: CubeLayout
    @State private var isExpanded: Bool = true
    @State private var cachedStats: HyperCube.Statistics?
    
    var body: some View {
        VStack {
            // ... UI ...
        }
        .onAppear {
            if cachedStats == nil {
                cachedStats = cube.statistics()
            }
        }
        .onChange(of: cube.id) { _ in
            // ‚úÖ –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫—É–±–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            cachedStats = cube.statistics()
        }
    }
}
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `.onChange(of: cube.id)`?**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ `cube.id`
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI

### 3. –î–æ–±–∞–≤–ª–µ–Ω `.id()` modifier –≤ `ContentView`

```swift
ScrollView {
    VStack(spacing: 12) {
        ImageInfoPanel(cube: cube, layout: state.layout)
            .id(cube.id)  // ‚úÖ –ü–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å –ø–∞–Ω–µ–ª—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫—É–±–∞
        
        NormalizationPanel()
            .environmentObject(state)
    }
    .padding(12)
}
```

**–ó–∞—á–µ–º `.id(cube.id)`?**
- SwiftUI –≤–æ—Å—Å–æ–∑–¥–∞–µ—Ç `ImageInfoPanel` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ ID
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ View
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ `@State` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª
   ‚Üí cube = HyperCube(id: UUID-1, data: [0, 255])
   ‚Üí ImageInfoPanel —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å id: UUID-1
   ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: Min=0, Max=255 ‚úÖ

2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç Min-Max [0, 1]
   ‚Üí applyNormalization() —Å–æ–∑–¥–∞–µ—Ç –ù–û–í–´–ô –∫—É–±
   ‚Üí cube = HyperCube(id: UUID-2, data: [0, 1])
   ‚Üí SwiftUI –∑–∞–º–µ—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ cube.id
   ‚Üí ImageInfoPanel –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è —Å id: UUID-2
   ‚Üí onChange —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
   ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
   ‚Üí –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: Min=0, Max=1 ‚úÖ

3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç Log
   ‚Üí cube = HyperCube(id: UUID-3, data: log-transformed)
   ‚Üí ImageInfoPanel —Å–Ω–æ–≤–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
   ‚Üí –ù–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è ‚úÖ
```

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –∫–µ—à
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
- ‚úÖ SwiftUI —Å–∞–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤—Å–µ–≥–æ 3 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### 3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- ‚úÖ –ù–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ –ø–∞–Ω–µ–ª–∏
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### 4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:**
- ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–ª—è –±—É–¥—É—â–∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π (—Ñ–∏–ª—å—Ç—Ä—ã, PCA, –∏ —Ç.–¥.)
- ‚úÖ –õ—é–±–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫—É–±–∞ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: Min-Max –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

```bash
1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª —Å uint8 –¥–∞–Ω–Ω—ã–º–∏ [0, 255]
   –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–Ω–µ–ª—å: Min=0, Max=255 ‚úÖ

2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å Min-Max [0, 1]
   –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–Ω–µ–ª—å: Min=0, Max=1 ‚úÖ

3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å "–ù–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏"
   –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–Ω–µ–ª—å: Min=0, Max=255 ‚úÖ
```

### –¢–µ—Å—Ç 2: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

```bash
1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å Percentile (2%-98%)
   ‚Üí –ü–∞–Ω–µ–ª—å –æ–±–Ω–æ–≤–∏–ª–∞—Å—å ‚úÖ
3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å Z-Score
   ‚Üí –ü–∞–Ω–µ–ª—å –æ–±–Ω–æ–≤–∏–ª–∞—Å—å ‚úÖ
4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å Log
   ‚Üí –ü–∞–Ω–µ–ª—å –æ–±–Ω–æ–≤–∏–ª–∞—Å—å ‚úÖ
5. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É
   ‚Üí –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è ‚úÖ
```

### –¢–µ—Å—Ç 3: –°–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–∞–Ω–µ–ª—å

```bash
1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   ‚Üí –ü–∞–Ω–µ–ª—å –æ–±–Ω–æ–≤–∏–ª–∞—Å—å ‚úÖ
3. –°–≤–µ—Ä–Ω—É—Ç—å –ø–∞–Ω–µ–ª—å (–∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫)
   ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ù–ï –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è (–∫–µ—à —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è) ‚úÖ
4. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–∞–Ω–µ–ª—å
   ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚úÖ
5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –¥—Ä—É–≥—É—é –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è ‚úÖ
```

### –¢–µ—Å—Ç 4: –†–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã

```bash
1. –û—Ç–∫—Ä—ã—Ç—å file1.mat
   ‚Üí –ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É file1 ‚úÖ
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
   ‚Üí –ü–∞–Ω–µ–ª—å –æ–±–Ω–æ–≤–∏–ª–∞—Å—å ‚úÖ
3. –û—Ç–∫—Ä—ã—Ç—å file2.npy
   ‚Üí –ü–∞–Ω–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–∏–ª–∞—Å—å –¥–ª—è file2 ‚úÖ
   ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç file2 ‚úÖ
```

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. HyperCubeModel.swift

```swift
struct HyperCube {
    let id: UUID  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
    
    init(...) {
        self.id = UUID()  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
        // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    }
}
```

### 2. ImageInfoPanel.swift

```swift
struct ImageInfoPanel: View {
    // ... —Å–≤–æ–π—Å—Ç–≤–∞ –∏ body
    
    var body: some View {
        // ... UI
        .onAppear {
            if cachedStats == nil {
                cachedStats = cube.statistics()
            }
        }
        .onChange(of: cube.id) { _ in
            cachedStats = cube.statistics()  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
        }
    }
}
```

### 3. ContentView.swift

```swift
ImageInfoPanel(cube: cube, layout: state.layout)
    .id(cube.id)  // ‚úÖ –î–û–ë–ê–í–õ–ï–ù–û
```

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –≥–æ—Ç–æ–≤ –¥–ª—è –±—É–¥—É—â–∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π:

### 1. **–§–∏–ª—å—Ç—Ä—ã:**
```swift
func applyGaussianBlur() {
    guard let original = originalCube else { return }
    cube = ImageFilters.gaussianBlur(original)
    // ‚úÖ –ü–∞–Ω–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
}
```

### 2. **PCA / Dimensionality Reduction:**
```swift
func applyPCA(components: Int) {
    guard let original = originalCube else { return }
    cube = PCA.reduce(original, toComponents: components)
    // ‚úÖ –ü–∞–Ω–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
}
```

### 3. **Spectral Analysis:**
```swift
func applySpectralFilter(wavelengthRange: Range<Double>) {
    guard let original = originalCube else { return }
    cube = SpectralAnalysis.filter(original, in: wavelengthRange)
    // ‚úÖ –ü–∞–Ω–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
}
```

### 4. **Cropping:**
```swift
func cropCube(rect: CGRect) {
    guard let original = originalCube else { return }
    cube = CubeCropper.crop(original, to: rect)
    // ‚úÖ –ü–∞–Ω–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
}
```

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã)

### 1. –†—É—á–Ω–æ–π —Å–±—Ä–æ—Å –∫–µ—à–∞

```swift
// ‚ùå –ü–ª–æ—Ö–æ
func applyNormalization() {
    // ... –ø—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é
    cachedStats = nil  // –ù—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –≤–µ–∑–¥–µ
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –õ–µ–≥–∫–æ –∑–∞–±—ã—Ç—å —Å–±—Ä–æ—Å–∏—Ç—å
- –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–µ—Ç–∞–ª—è—Ö ImageInfoPanel
- –¢–µ—Å–Ω–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### 2. NotificationCenter

```swift
// ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ
NotificationCenter.default.post(name: .cubeDidChange, object: cube)
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –∫–æ–¥
- –ù—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
- –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏

### 3. Combine Publishers

```swift
// ‚ùå Overcomplicated
@Published var cube: HyperCube?
// ... —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –¥–ª—è –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
- SwiftUI —É–∂–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç @Published
- –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ View

## ‚úÖ –ü–æ—á–µ–º—É –Ω–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ –ª—É—á—à–µ

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** 3 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞
2. **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å:** SwiftUI —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å
4. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ü–µ—Ä–µ—Å—á–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏

## üìÖ –î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

2025-11-28

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `NORMALIZATION_FEATURE.md` - —Ñ—É–Ω–∫—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- `ImageInfoPanel.swift` - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–∏
- `HyperCubeModel.swift` - –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
- `ContentView.swift` - –≥–ª–∞–≤–Ω–æ–µ view

